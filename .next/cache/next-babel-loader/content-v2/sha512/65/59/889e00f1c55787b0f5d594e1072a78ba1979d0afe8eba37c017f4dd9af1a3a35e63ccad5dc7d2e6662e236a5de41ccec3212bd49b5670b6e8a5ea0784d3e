{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport styles from '../../styles/Ninjas.module.css';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"; // Import the FontAwesomeIcon component\n\nimport { faHeart, faSearch } from \"@fortawesome/free-solid-svg-icons\";\nexport const getStaticProps = async () => {\n  const res = await fetch('https://thawing-wave-48739.herokuapp.com/insta-api/get-all-posts');\n  const data = await res.json();\n  return {\n    props: {\n      posts: data\n    }\n  };\n};\n\nconst Post = ({\n  posts\n}) => {\n  const triggerLike = async post => {\n    console.log(post.post_like_count);\n    console.log(post.is_liked);\n    var data = new URLSearchParams();\n    data.append('userName', 'test@gmail.com');\n    data.append('password', 'Password');\n    data.append('grant_type', 'password');\n    return await fetch('https://thawing-wave-48739.herokuapp.com/insta-api/toggle-like', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: new URLSearchParams({\n        'id': post._id,\n        'status': post.is_liked == 1 ? 0 : 1,\n        'count': post.post_like_count\n      })\n    }).then(async response => {\n      // return JSON.parse(await response.text());\n      console.log(await response.text());\n      Router.reload('/posts');\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    style: {\n      marginBottom: '120px',\n      marginTop: '20px'\n    },\n    children: posts['messages'].map(post => /*#__PURE__*/_jsxs(\"div\", {\n      className: \"card\",\n      style: {\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: post.post_user_pic,\n            style: {\n              width: '40px',\n              borderRadius: '50%'\n            }\n          })\n        }), /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            paddingTop: '9px',\n            paddingLeft: '9px',\n            position: 'absolute',\n            fontWeight: '700'\n          },\n          children: post.post_user\n        })]\n      }), /*#__PURE__*/_jsx(\"img\", {\n        src: post.post_image,\n        alt: \"Avatar\",\n        style: {\n          width: '100%'\n        }\n      }), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          color: 'white',\n          float: 'left',\n          marginTop: '-50px',\n          position: 'absolute',\n          marginLeft: '20px',\n          fontSize: '18px',\n          fontWeight: '700'\n        },\n        children: post.post_title\n      }), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          float: 'right',\n          marginTop: '-50px',\n          position: 'relative',\n          marginRight: '20px'\n        },\n        children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n          onClick: () => triggerLike(post),\n          color: post.is_liked == 0 ? '#bbc0c5' : '#fc619c',\n          style: {\n            fontSize: '25px'\n          },\n          icon: faHeart\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          marginTop: '5px',\n          paddingLeft: '5px'\n        },\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          children: /*#__PURE__*/_jsx(\"img\", {\n            width: 20,\n            style: {\n              color: 'white'\n            },\n            src: \"/favorite-black-18dp.svg\"\n          })\n        }), /*#__PURE__*/_jsxs(\"span\", {\n          style: {\n            paddingTop: '0px',\n            paddingLeft: '9px',\n            position: 'absolute',\n            fontWeight: '700'\n          },\n          children: [post.post_like_count, \" Likes\"]\n        })]\n      })]\n    }, post._id))\n  });\n};\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}