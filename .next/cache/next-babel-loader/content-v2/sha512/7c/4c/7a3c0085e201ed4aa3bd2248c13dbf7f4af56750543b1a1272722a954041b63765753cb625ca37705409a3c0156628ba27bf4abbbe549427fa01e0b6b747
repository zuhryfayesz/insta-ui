{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Applications/Noon-Project/insta-ui/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Applications/Noon-Project/insta-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport styles from '../../styles/Ninjas.module.css';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"; // Import the FontAwesomeIcon component\n\nimport { faHeart, faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nvar Post = function Post(_ref) {\n  var posts = _ref.posts;\n\n  var triggerLike = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(post) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(post.post_like_count);\n              console.log(post.is_liked);\n              data = new URLSearchParams();\n              data.append('userName', 'test@gmail.com');\n              data.append('password', 'Password');\n              data.append('grant_type', 'password');\n              _context2.next = 8;\n              return fetch('https://thawing-wave-48739.herokuapp.com/insta-api/toggle-like', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/x-www-form-urlencoded'\n                },\n                body: new URLSearchParams({\n                  'id': post._id,\n                  'status': post.is_liked == 1 ? 0 : 1,\n                  'count': post.post_like_count\n                })\n              }).then( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.t0 = console;\n                          _context.next = 3;\n                          return response.text();\n\n                        case 3:\n                          _context.t1 = _context.sent;\n\n                          _context.t0.log.call(_context.t0, _context.t1);\n\n                          Router.reload('/posts');\n\n                        case 6:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }())[\"catch\"](function (error) {\n                console.error('Error:', error);\n              });\n\n            case 8:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function triggerLike(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    style: {\n      marginBottom: '120px',\n      marginTop: '20px'\n    },\n    children: posts['messages'].map(function (post) {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: \"card\",\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: post.post_user_pic,\n              style: {\n                width: '40px',\n                borderRadius: '50%'\n              }\n            })\n          }), /*#__PURE__*/_jsx(\"span\", {\n            style: {\n              paddingTop: '9px',\n              paddingLeft: '9px',\n              position: 'absolute',\n              fontWeight: '700'\n            },\n            children: post.post_user\n          })]\n        }), /*#__PURE__*/_jsx(\"img\", {\n          src: post.post_image,\n          alt: \"Avatar\",\n          style: {\n            width: '100%'\n          }\n        }), /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            color: 'white',\n            \"float\": 'left',\n            marginTop: '-50px',\n            position: 'absolute',\n            marginLeft: '20px',\n            fontSize: '18px',\n            fontWeight: '700'\n          },\n          children: post.post_title\n        }), /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            \"float\": 'right',\n            marginTop: '-50px',\n            position: 'relative',\n            marginRight: '20px'\n          },\n          children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            onClick: function onClick() {\n              return triggerLike(post);\n            },\n            color: post.is_liked == 0 ? '#bbc0c5' : '#fc619c',\n            style: {\n              fontSize: '25px'\n            },\n            icon: faHeart\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            marginTop: '5px',\n            paddingLeft: '5px'\n          },\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: /*#__PURE__*/_jsx(\"img\", {\n              width: 20,\n              style: {\n                color: 'white'\n              },\n              src: \"/favorite-black-18dp.svg\"\n            })\n          }), /*#__PURE__*/_jsxs(\"span\", {\n            style: {\n              paddingTop: '0px',\n              paddingLeft: '9px',\n              position: 'absolute',\n              fontWeight: '700'\n            },\n            children: [post.post_like_count, \" Likes\"]\n          })]\n        })]\n      }, post._id);\n    })\n  });\n};\n\nexport var __N_SSG = true;\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}